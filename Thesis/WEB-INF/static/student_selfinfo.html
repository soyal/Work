<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>个人信息</title>
   <link rel="stylesheet" href="../../src/framework/css/bootstrap.min.css">
   <link rel="stylesheet" href="../../src/css/cover.css">
   <!--[if lt IE9]-->
   <script src="http://cdn.bootcss.com/html5shiv/r29/html5.min.js"></script>
   <!--[endif]-->
</head>
<body>
<div class="container">
   <!--置顶栏-->
   <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
         <a class="navbar-brand" href="#">论文送审系统</a>
      </div>
      <div class="col-xs-offset-10">
         <ul class="nav navbar-nav">
            <li><a href="#"><span class="glyphicon glyphicon-user"></span>学生</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-log-out"></span>注销</a></li>
         </ul>
      </div>
   </nav>

   <!--内容-->
   <div class="row selfinfo-content">
      <!--导航-->
      <div class="col-xs-2">
         <ul class="nav nav-pills nav-stacked">
            <li class="active"><a href="student_selfinfo.html">个人信息</a></li>
            <li><a href="student_paper.html">论文信息</a></li>
         </ul>
      </div>

      <!--标签页-->
      <div class="col-xs-10">
         <ul id="myTab" class="nav nav-tabs">
            <li class="active">
               <a href="#updatepassword" data-toggle="tab">
                  密码修改
               </a>
            </li>
            <li><a href="#team" data-toggle="tab">团队归属</a></li>
            <li><a href="#basicinfo"  data-toggle="tab">基本信息</a></li>
         </ul>
         <div id="myTabContent" class="tab-content">

            <!--第一页标签内容-->
            <div class="tab-pane fade in active" id="updatepassword">
               <!--密码重置-->
               <form class="form-horizontal update-password-form" role="form" action="updatepassword" method="post">
                  <div class="form-group">
                     <label for="password" class="col-xs-2 control-label col-xs-offset-1">新密码</label>
                     <div class="col-xs-6">
                        <input type="password" class="form-control" id="password" name="password"
                               placeholder="新密码">
                     </div>
                  </div>

                  <div class="form-group">
                     <label for="confirm" class="col-xs-2 control-label col-xs-offset-1">密码确认</label>
                     <div class="col-xs-6">
                        <input type="password" class="form-control" id="confirm" name="confirm" placeholder="密码确认"/>
                     </div>
                  </div>

                  <div class="form-group">
                     <div class="col-xs-6 col-xs-offset-3">
                        <button type="submit" class="btn btn-primary btn-full passsubmit">确认修改</button>
                     </div>
                  </div>
               </form>
            </div>

            <!--第二页标签 团队归属 （只有学生和老师包含）-->
            <div class="tab-pane fade padding-top" id="team">
               <form class="form-horizontal" role="form" action="updateteaminfo" id="J-form-hometeam" method="post">
                  <div class="form-group">
                     <label for="hometeam" class="col-xs-2 control-label col-xs-offset-1">团队归属</label>
                     <div class="col-xs-6">
                        <input type="text" class="form-control" id="hometeam" name="teamname" value="重邮团队" disabled/>
                     </div>
                  </div>

                  <div class="form-group">
                     <div class="col-xs-6 col-xs-offset-3">
                        <button type="submit" class="btn btn-primary" id="J-hometeam-update" disabled>确认修改</button>
                        <button type="button" class="btn btn-default" id="J-hometeam-edit">编辑</button>
                     </div>
                  </div>
               </form>
            </div>

            <!--第三页标签页 基本信息-->
            <div class="tab-pane fade padding-top" id="basicinfo">
               <form class="form-horizontal" role="form" action="updatebasicinfo" id="J-form-basicinfo" method="post">
                  <div class="form-group">
                     <label for="username" class="col-xs-2 control-label col-xs-offset-1">姓名</label>
                     <div class="col-xs-6">
                        <input type="text" class="form-control info-item" id="username" name="username" value="李四" disabled/>
                     </div>
                  </div>

                  <div class="form-group">
                     <label for="usercode" class="col-xs-2 control-label col-xs-offset-1">学号</label>
                     <div class="col-xs-6">
                        <input type="number" class="form-control info-item" id="usercode" name="usercode" value="2012111111" disabled/>
                     </div>
                  </div>

                  <div class="form-group">
                     <label class="col-xs-2 control-label col-xs-offset-1">性别</label>
                     <div class="col-xs-6">
                        <!--<input type="text" class="form-control info-item" id="sex" name="sex" value="男" disabled/>-->
                        <label class="checkbox-inline">
                           <input type="radio" name="sex" class="info-item" disabled
                                  value="男" checked> 男
                        </label>
                        <label class="checkbox-inline">
                           <input type="radio" name="sex" class="info-item" disabled
                                  value="女"> 女
                        </label>
                     </div>
                  </div>

                  <div class="form-group">
                     <label for="phone" class="col-xs-2 control-label col-xs-offset-1">电话</label>
                     <div class="col-xs-6">
                        <input type="number" class="form-control info-item" id="phone" name="phone" value="1888000000" disabled/>
                     </div>
                  </div>

                  <div class="form-group">
                     <label for="email" class="col-xs-2 control-label col-xs-offset-1">邮箱</label>
                     <div class="col-xs-6">
                        <input type="email" class="form-control info-item" id="email" name="email" disabled/>
                     </div>
                  </div>

                  <div class="form-group">
                     <div class="col-xs-6 col-xs-offset-3">
                        <button type="submit" class="btn btn-primary" id="J-basicinfo-update" disabled>确认修改</button>
                        <button type="button" class="btn btn-default" id="J-basicinfo-edit">编辑</button>
                     </div>
                  </div>
               </form>
            </div>
         </div>

      </div>
   </div>

    <div class="row info">
        <div class="row-xs-12">
            <div class="alert alert-info">
                <h2>重要说明</h2>
                <br/>
                <h3>1）修改密码</h3>
                <p>为保障您的账号安全，请务必修改初始密码</p>
                <h3>2）团队归属</h3>
                <p>依次点击个人信息——>团队归属，进入团队归属修改界面，点击编辑按钮，激活团队归属选择框，再点击团队归属选择框，选择属于自己的团队，然后点击确认修改，即可保存团队信息。请务必正确选择自己所属的研究团队。</p>
                <img src="img/teach_hometeam.png" alt="teach"/>
            </div>
        </div>
    </div>
</div>

<ul class="list-group movepanel" id="J-movepanel">
</ul>
<!-- 没有进行密码修改的提示框（Modal） -->
<div class="modal fade" id="J-passalert" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    请进行密码修改，否则无法进行后续操作
                </h4>
            </div>
            <div class="modal-body">
                <!--密码重置-->
                <form class="form-horizontal update-password-form" role="form" action="updatepassword" method="post">
                    <div class="form-group">
                        <label for="password2" class="col-xs-2 control-label col-xs-offset-1">新密码</label>
                        <div class="col-xs-6">
                            <input type="password" class="form-control" id="password2" name="password"
                                   placeholder="新密码">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirm2" class="col-xs-2 control-label col-xs-offset-1">密码确认</label>
                        <div class="col-xs-6">
                            <input type="password" class="form-control" id="confirm2" name="confirm" placeholder="密码确认"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-xs-6 col-xs-offset-3">
                            <button type="submit" class="btn btn-primary btn-full passsubmit">确认修改</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<script src="../../src/framework/js/jquery-2.2.2.min.js"></script>
<script src="../../src/js/browserwarning.js"></script>
<script src="../../src/framework/js/bootstrap.min.js"></script>
<script src="../../src/js/hometeam.js"></script>
<script src="../../src/js/isnewuser.js"></script>
<script src="../../src/js/passwordconfirm.js"></script>
<script>

   //基础信息
   var $basicinfoForm = $("#J-form-basicinfo");
   var $basicinfos = $basicinfoForm.find(".info-item");//所有的基础信息input标签
   var $basicinfoSubmit = $basicinfoForm.find("#J-basicinfo-update"); //确认修改按钮
   var $basicinfoEdit = $basicinfoForm.find("#J-basicinfo-edit");//基础信息编辑按钮
   $basicinfoEdit.click(function(e){
      $basicinfos.attr("disabled",false);
      $basicinfoSubmit.attr("disabled",false);
      $basicinfoEdit.attr("disabled",true);
   });

</script>
</body>
</html>